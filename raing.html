<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
<style>
*{
    margin: 0 ; padding: 0 ; list-style: none ;
}
body{
    background: url(img/bg_bg.png);
}
div{
    width: 86px; height: 86px; border-radius: 50%; overflow: hidden;
    position: absolute; left: 100px; top: 100px;  cursor: pointer;
}
div img{
    position: absolute; left: -34px ; top: -20px;
}
</style>
<script>
window.onload= function(){
    var oDiv = document.getElementsByTagName('div')[0];
    var timer = null;

    var speedX = 0;
    var speedY = 0;
    
    var lastX = 0;
    var lastY = 0;

    oDiv.onmousedown= function(ev){
        var oEv = ev || event;
        var disX = oEv.clientX-oDiv.offsetLeft;
        var disY = oEv.clientY-oDiv.offsetTop;

        document.onmousemove=function(ev){
            var oEv = ev || event;
            oDiv.style.left = oEv.clientX-disX+"px";
            oDiv.style.top = oEv.clientY-disY+"px";

            speedX = oDiv.offsetLeft - lastX;
            speedY = oDiv.offsetTop - lastY;
            
            lastX = oDiv.offsetLeft;
            lastY = oDiv.offsetTop;
        };

        document.onmouseup=function(){
            document.onmousemove=document.onmouseup=null;
            oDiv.releaseCapture && oDiv.releaseCapture();
            move();

        };

        oDiv.setCapture && oDiv.setCapture();
        return false;
    };
    // function move(){
    //     clearInterval(timer);
    //     var H = document.documentElement.clientHeight;
    //     var W = document.documentElement.clientWidth;
    //     timer = setInterval(function(){
            
    //         speedY += 3;
            
    //         var t = oDiv.offsetTop + speedY;
    //         var l = oDiv.offsetLeft + speedX;
            
    //         if(t >= H - oDiv.offsetHeight){
    //             speedY *= -0.8;
    //             speedX *= 0.8;
    //             t = H - oDiv.offsetHeight;
    //         } else if(t <= 0){
    //             speedY *= -0.8;
    //             speedX *= 0.8;
    //             t = 0;
    //         }
            
    //         if(l >= W - oDiv.offsetWidth){
    //             speedX *= -0.8;
    //             speedY *= 0.8;
    //             l = W - oDiv.offsetWidth;
    //         } else if(l <= 0){
    //             speedX *= -0.8;
    //             speedY *= 0.8;
    //             l = 0;
    //         }
            
    //         oDiv.style.left = l + "px";
    //         oDiv.style.top  = t + "px";
            
    //         if(Math.abs(speedX) < 1){
    //             speedX = 0;
    //         }
            
    //         if(Math.abs(speedY) < 1){
    //             speedY = 0;
    //         }
            
    //         if(speedX == 0 && speedY == 0 && t == document.documentElement.clientHeight - oDiv.offsetHeight ){
    //             clearInterval(timer);
    //         }
            
            
    //     },30);  
    // }

    function move(){
        var H = document.documentElement.clientHeight;
        var W = document.documentElement.clientWidth;
        clearInterval(timer);
        timer = setInterval(function(){
            speedY+=3;

            var t = oDiv.offsetTop+speedY;
            var l = oDiv.offsetLeft+speedX;

            if(t>=H-oDiv.offsetHeight){
                speedY *= -0.8;
                speedX *= 0.8;
                t=H-oDiv.offsetHeight;
            }else if(t<=0){
                speedY *= -0.8;
                speedX *= 0.8;
                t=0;
            };
            if(l>=W-oDiv.offsetWidth){
                speedX *= -0.8;
                speedY *= 0.8;
                l = W-oDiv.offsetWidth;
                
            }else if(l<=0){
                speedX *= -0.8;
                speedY *= 0.8;
                l = 0; 
            }

            oDiv.style.left = l + "px";
            oDiv.style.top  = t + "px";

            if(Math.abs(speedX) < 1){
                speedX = 0;
            }
            
            if(Math.abs(speedY) < 1){
                speedY = 0;
            }
            if(speedX == 0 && speedY == 0 && t == H - oDiv.offsetHeight ){
                clearInterval(timer);
            }
        }, 30);
    };

};
</script>
</head>
<body>
<div><img src="img/qiu.jpg"width="150" alt=""></div>   
</body>
</html>